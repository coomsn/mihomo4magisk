log-level: debug
tproxy-port: 2653
mode: rule
unified-delay: true
find-process-mode: always
global-client-fingerprint: chrome
allow-lan: true
ipv6: true
geodata-mode: true
geox-url: 
  geoip: 'https://mirror.ghproxy.com/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip-lite.dat'
  geosite: 'https://mirror.ghproxy.com/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geosite.dat'
  mmdb: 'https://mirror.ghproxy.com/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/country-lite.mmdb'
geo-auto-update: true
geo-update-interval: 24
tcp-concurrent: true
external-controller: '0.0.0.0:9090'
external-ui: webui
profile: { store-selected: true, store-fake-ip: true }
sniffer: { enable: true, sniff: { TLS: { ports: [443] }, HTTP: { ports: [80], override-destination: true } } }
dns:
  enable: true
  listen: 0.0.0.0:2053
  ipv6: true
# 0åªæ”¯æŒredir-hostæ¨¡å¼
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/15
  fake-ip-filter:
    - "*"
    - "+.lan"
    - "+.local"
  default-nameserver:
    - 223.5.5.5
  nameserver:
    - https://doh.pub/dns-query
    - https://dns.alidns.com/dns-query
  fallback:
    - tls://8.8.4.4
    - tls://1.1.1.1
  proxy-server-nameserver:
    - https://doh.pub/dns-query
  nameserver-policy:
    "+.google.cn": ["https://dns.google/dns-query#ğŸ¿proxies"]
    "geosite:category-ads-all": rcode://success
    "geosite:cn,private":
      - https://doh.pub/dns-query
      - https://dns.alidns.com/dns-query
    "geosite:geolocation-!cn":
      - "https://dns.cloudflare.com/dns-query#ğŸ¿proxies"
      - "https://dns.google/dns-query#ğŸ¿proxies"
#1æœºåœºå¥åº·æ£€æŸ¥é”šç‚¹
health: &health {type: http, interval: 3600, health-check: {enable: true, url: https://www.gstatic.com/generate_204, interval: 300}}
#2é…ç½®æ–‡ä»¶å†…éƒ¨çš„ç›¸å¯¹ç›®å½•ä¾æ®å·¥ä½œç›®å½•ç¼–è¯‘
proxy-providers:
  æ‹–æ³¥æœºåœº: { <<: *health, url: "1", path: ./providers/æ‹–æ³¥æœºåœº.nodes }
  ç‘ç‰¹æœºåœº: { <<: *health, url: "2", path: ./providers/ç‘ç‰¹æœºåœº.nodes }
  å…±äº«æœºåœº: { <<: *health, url: "3", path: ./providers/å…±äº«æœºåœº.nodes }
proxies:  
proxy-groups:
  - { name: ğŸ¿proxies, type: select, proxies: [ğŸ’¦å…±äº«æœºåœº, ğŸ’¦æ‹–æ³¥æœºåœº, ğŸ’¦ç‘ç‰¹æœºåœº, ğŸ’¦wFang] }
  - { name: ğŸ’¦wFang, type: select, proxies: [oosk_a1-hy2, osg_a1-hy2] }
  - { name: ğŸ’¦å…±äº«æœºåœº, type: select, use: [å…±äº«æœºåœº]}
  - { name: ğŸ’¦æ‹–æ³¥æœºåœº, type: select, use: [æ‹–æ³¥æœºåœº]}
  - { name: ğŸ’¦ç‘ç‰¹æœºåœº, type: select, use: [ç‘ç‰¹æœºåœº]}
  
rules:
 # DST-PORT,53,dns-out Must be placed first
  - DST-PORT,53,dns-out
  - DOMAIN-SUFFIX,eu.org,ğŸ’¦wFang
  - GEOSITE,category-ads-all,REJECT 
  - GEOSITE,openai,ğŸ’¦wFang
  
  - GEOSITE,telegram,ğŸ¿proxies
  - GEOIP,telegram,ğŸ¿proxies

  - GEOSITE,google,ğŸ¿proxies
  - GEOSITE,geolocation-!cn,ğŸ¿proxies
  
  - GEOSITE,cn,DIRECT
  - GEOIP,cn,DIRECT
  - MATCH,DIRECT
